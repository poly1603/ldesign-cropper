# Demo 测试指南

本指南帮助你快速测试各个框架的 demo 项目。

## 🚀 快速开始

### 前提条件
1. 所有包已构建完成 ✅
2. 依赖已安装

### 测试 React Demo

```bash
# 进入 React demo 目录
cd examples/react-demo

# 启动开发服务器
pnpm run dev
```

访问：http://localhost:5175

### 测试 Vue Demo

```bash
# 进入 Vue demo 目录  
cd examples/vue-demo

# 启动开发服务器
pnpm run dev
```

访问：http://localhost:5176

### 测试 Vanilla JS Demo

```bash
# 进入 Vanilla demo 目录
cd examples/vanilla

# 启动开发服务器
pnpm run dev
```

访问：http://localhost:5177

## 📋 功能验证清单

### React Demo 验证

- [ ] **页面加载**
  - [ ] 页面正常显示
  - [ ] 没有控制台错误
  - [ ] UI 元素正确渲染

- [ ] **图片上传**
  - [ ] 点击"选择图片"按钮打开文件选择器
  - [ ] 选择图片后，图片在裁剪器中显示
  - [ ] Cropper 初始化完成（控制台输出 "Cropper is ready"）

- [ ] **基本操作**
  - [ ] 拖动裁剪框移动
  - [ ] 调整裁剪框大小
  - [ ] 拖动图片移动
  - [ ] 鼠标滚轮缩放图片

- [ ] **工具栏功能**
  - [ ] "↶ 左旋转" 按钮 - 图片逆时针旋转 90°
  - [ ] "↷ 右旋转" 按钮 - 图片顺时针旋转 90°
  - [ ] "↔️ 水平翻转" 按钮 - 图片水平翻转
  - [ ] "↕️ 垂直翻转" 按钮 - 图片垂直翻转
  - [ ] "🔄 重置" 按钮 - 恢复初始状态
  - [ ] "✂️ 裁剪" 按钮 - 生成裁剪结果

- [ ] **裁剪结果**
  - [ ] 点击裁剪后显示结果图片
  - [ ] 自动下载裁剪后的图片文件
  - [ ] 文件名格式正确（cropped-{timestamp}.jpg）
  - [ ] 图片质量良好

- [ ] **响应式**
  - [ ] 不同窗口大小下正常显示
  - [ ] 移动端模拟模式下可用

### Vue Demo 验证

- [ ] **页面加载**
  - [ ] 页面正常显示
  - [ ] 没有控制台错误
  - [ ] 组件正确挂载

- [ ] **基本功能**
  - [ ] 图片上传
  - [ ] 裁剪操作
  - [ ] 工具栏功能
  - [ ] 结果显示

### Vanilla Demo 验证

- [ ] **页面加载**
  - [ ] 页面正常显示
  - [ ] Cropper 正确初始化

- [ ] **基本功能**
  - [ ] 所有 React demo 的功能
  - [ ] 原生 API 调用正常

## 🐛 常见问题

### 问题：Cannot find module '@ldesign/cropper-core'

**解决方案**：
```bash
# 确保所有包已构建
cd packages/core
pnpm run build

cd ../react
pnpm run build
```

### 问题：vite dev 命令失败

**解决方案**：
```bash
# 重新安装依赖
pnpm install

# 清除缓存
rm -rf node_modules/.vite
```

### 问题：图片无法显示

**检查**：
1. 浏览器控制台是否有 CORS 错误
2. 图片文件格式是否支持
3. 文件大小是否过大

### 问题：TypeScript 类型错误

**解决方案**：
- 确保 packages/core 已构建并生成 .d.ts 文件
- 检查 vite.config.ts 中的别名配置

## 📊 性能测试

### 测试不同图片大小

1. **小图片** (< 1MB)
   - 加载时间 < 500ms
   - 操作响应 < 100ms

2. **中等图片** (1-5MB)
   - 加载时间 < 1s
   - 操作响应 < 200ms

3. **大图片** (5-10MB)
   - 加载时间 < 3s
   - 操作响应 < 500ms

### 测试不同操作

- 旋转：每次 < 200ms
- 翻转：每次 < 100ms
- 缩放：流畅无卡顿
- 裁剪：< 1s (1920x1080)

## ✅ 验证完成检查表

### React Demo
- [ ] 所有基本功能正常
- [ ] 性能测试通过
- [ ] 无控制台错误
- [ ] UI/UX 流畅

### Vue Demo
- [ ] 所有基本功能正常
- [ ] 性能测试通过
- [ ] 无控制台错误
- [ ] UI/UX 流畅

### Vanilla Demo
- [ ] 所有基本功能正常
- [ ] 性能测试通过
- [ ] 无控制台错误
- [ ] UI/UX 流畅

## 📝 测试报告模板

```markdown
## Demo 测试报告

**测试日期**：2025-10-29
**测试人员**：[你的名字]
**测试框架**：React / Vue / Vanilla

### 环境
- 浏览器：Chrome 120 / Firefox 121 / Safari 17
- 操作系统：Windows 11 / macOS / Linux
- Node.js：v20.x
- pnpm：10.x

### 测试结果
- ✅ 页面加载
- ✅ 图片上传
- ✅ 基本操作
- ✅ 工具栏功能
- ✅ 裁剪结果
- ✅ 性能测试

### 发现的问题
1. [问题描述]
   - 重现步骤
   - 预期行为
   - 实际行为
   - 截图/错误日志

### 建议
- [改进建议]
```

## 🎯 下一步

完成 demo 测试后：
1. 记录测试结果
2. 修复发现的问题
3. 更新文档
4. 准备发布

---

**最后更新**：2025-10-29  
**文档版本**：1.0
